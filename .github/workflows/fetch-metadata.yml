name: Dependabot fetch metadata
on: pull_request

permissions:
  pull-requests: read
  packages: read

jobs:
  dependabot:
    if: ${{ github.actor == 'dependabot[bot]' }}
    runs-on: ubuntu-latest
    steps:
      - name: Dependabot metadata
        id: metadata
        uses: dependabot/fetch-metadata@v1
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
      - name: Echo Dependabot metadata
        run: |
          echo "${{ toJSON(steps.metadata.outputs) }}"
